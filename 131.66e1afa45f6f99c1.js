"use strict";(self.webpackChunkangular_scully_blog=self.webpackChunkangular_scully_blog||[]).push([[131],{3843:(O,i,t)=>{t.d(i,{SY:()=>c,Kz:()=>z,Nz:()=>m,eb:()=>L,jO:()=>E,Zh:()=>B});var S=t(4813),p=t(9300),f=t(8505),g=t(3900),d=t(6571),n=t(5e3),v=t(2286),l=t(4997);let c=(()=>{class s extends d.m1{constructor(e,F){super({}),this.postApi=e,this.route=F,this.slugParams$=this.route.params.pipe((0,S.j)("slug"),(0,p.h)(a=>!!a)),this.post$=this.slugParams$.pipe((0,f.b)(a=>{this.patchState({slug:a}),this.loadPost({slug:a})}),(0,g.w)(()=>this.select(a=>a.data))),this.loadPost=this.effect(a=>a.pipe((0,f.b)(()=>{this.patchState({status:"loading",error:null})}),(0,g.w)(({slug:u})=>this.postApi.getBySlug(u).pipe((0,d._b)(r=>{this.patchState({data:r,status:"success",error:""})},r=>{this.patchState({status:"error",error:r})})))))}}return s.\u0275fac=function(e){return new(e||s)(n.LFG(v.e),n.LFG(l.gz))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac}),s})();var o=t(5094);const m=(0,o.PH)("[Posts Page/API] Init",(0,o.Ky)()),j=(0,o.PH)("[Posts Page/API] Load Posts Success",(0,o.Ky)()),A=(0,o.PH)("[Posts Page/API] Load Posts Failure",(0,o.Ky)());var C=t(9646),K=t(4351),M=t(4004),$=t(262),y=t(4394);let z=(()=>{class s{constructor(e,F){this.postApi=e,this.actions$=F,this.loadPosts$=(0,y.GW)(()=>this.actions$.pipe((0,y.l4)(m),(0,K.b)(({keyword:a,pageIndex:u,pageSize:r})=>this.postApi.getList(a).pipe((0,M.U)(P=>({pageIndex:u,pageSize:r,pageCount:Math.ceil(P.length/r),totalCount:P.length,data:P.slice(r*u,r*(u+1))})),(0,M.U)(P=>j({paginatedPosts:P})),(0,$.K)(P=>(0,C.of)(A({error:P})))))))}}return s.\u0275fac=function(e){return new(e||s)(n.LFG(v.e),n.LFG(y.eX))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac}),s})();const L="posts",E=(0,o.Lq)({data:null,error:null,status:"pending"},(0,o.on)(m,s=>Object.assign(Object.assign({},s),{status:"loading",error:null})),(0,o.on)(j,(s,{paginatedPosts:h})=>Object.assign(Object.assign({},s),{data:h,status:"success",error:null})),(0,o.on)(A,(s,{error:h})=>Object.assign(Object.assign({},s),{status:"error",error:h}))),x=(0,o.ZF)(L),B=(0,o.P1)(x,s=>s.data)},7131:(O,i,t)=>{t.r(i),t.d(i,{PostShellModule:()=>v});var S=t(9808),p=t(4997),f=t(4394),g=t(5094),d=t(3843),n=t(5e3);let v=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=n.oAB({type:l}),l.\u0275inj=n.cJS({imports:[[S.ez,p.Bz.forChild([{path:"",loadChildren:()=>Promise.all([t.e(382),t.e(835)]).then(t.bind(t,3835)).then(c=>c.PostsModule)},{path:":slug",loadChildren:()=>t.e(738).then(t.bind(t,6738)).then(c=>c.PostModule)}]),g.Aw.forFeature(d.eb,d.jO),f.sQ.forFeature([d.Kz])]]}),l})()}}]);