"use strict";(self.webpackChunkangular_scully_blog=self.webpackChunkangular_scully_blog||[]).push([[592],{3101:(N,j,n)=>{n.d(j,{E:()=>M});var y=n(4408);let f,I=1;const v={};function g(c){return c in v&&(delete v[c],!0)}const m={setImmediate(c){const e=I++;return v[e]=!0,f||(f=Promise.resolve()),f.then(()=>g(e)&&c()),e},clearImmediate(c){g(c)}},{setImmediate:S,clearImmediate:$}=m,b={setImmediate(...c){const{delegate:e}=b;return((null==e?void 0:e.setImmediate)||S)(...c)},clearImmediate(c){const{delegate:e}=b;return((null==e?void 0:e.clearImmediate)||$)(c)},delegate:void 0};var C=n(7565);const M=new class R extends C.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:r}=this;let u,p=-1;e=e||r.shift();const x=r.length;do{if(u=e.execute(e.state,e.delay))break}while(++p<x&&(e=r.shift()));if(this._active=!1,u){for(;++p<x&&(e=r.shift());)e.unsubscribe();throw u}}}(class E extends y.o{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,u=0){return null!==u&&u>0?super.requestAsyncId(e,r,u):(e.actions.push(this),e._scheduled||(e._scheduled=b.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,r,u=0){if(null!=u&&u>0||null==u&&this.delay>0)return super.recycleAsyncId(e,r,u);0===e.actions.length&&(b.clearImmediate(r),e._scheduled=void 0)}})},6571:(N,j,n)=>{n.d(j,{m1:()=>K,_b:()=>Y});var y=n(9751),I=n(576);function f(i){return!!i&&(i instanceof y.y||(0,I.m)(i.lift)&&(0,I.m)(i.subscribe))}var v=n(727),g=n(3101),m=n(4707),A=n(9646),S=n(7159),$=n(233),b=n(2843),E=n(9841),C=n(7579),R=n(515),M=n(3099),c=n(4351),e=n(1365),r=n(2722),u=n(5698),p=n(4004),x=n(1884),P=n(8505),D=n(262),z=n(5e3);function L(){return i=>new y.y(a=>{let t,s;const o=new v.w0;return o.add(i.subscribe({complete:()=>{t&&a.next(s),a.complete()},error:l=>{a.error(l)},next:l=>{s=l,t||(t=g.E.schedule(()=>{a.next(s),t=void 0}),o.add(t))}})),o})}const H=new z.OlP("@ngrx/component-store Initial State");let K=(()=>{class i{constructor(t){this.destroySubject$=new m.t(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new m.t(1),this.isInitialized=!1,this.notInitializedErrorMessage=`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`,this.state$=this.select(s=>s),t&&this.initState(t)}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(t){return s=>{let o;const h=(f(s)?s:(0,A.of)(s)).pipe((0,c.b)(d=>this.isInitialized?(0,S.x)([d],$.N).pipe((0,e.M)(this.stateSubject$)):(0,b._)(new Error(this.notInitializedErrorMessage))),(0,r.R)(this.destroy$)).subscribe({next:([d,Z])=>{this.stateSubject$.next(t(Z,d))},error:d=>{o=d,this.stateSubject$.error(d)}});if(o)throw o;return h}}initState(t){(0,S.x)([t],$.N).subscribe(s=>{this.isInitialized=!0,this.stateSubject$.next(s)})}setState(t){"function"!=typeof t?this.initState(t):this.updater(t)()}patchState(t){const s="function"==typeof t?t(this.get()):t;this.updater((o,l)=>Object.assign(Object.assign({},o),l))(s)}get(t){if(!this.isInitialized)throw new Error(this.notInitializedErrorMessage);let s;return this.stateSubject$.pipe((0,u.q)(1)).subscribe(o=>{s=t?t(o):o}),s}select(...t){const{observables:s,projector:o,config:l}=function G(i){const a=Array.from(i);let s,t={debounce:!1};const o=a.pop();return"function"!=typeof o?(t=Object.assign(Object.assign({},t),o),s=a.pop()):s=o,{observables:a,projector:s,config:t}}(t);let h;return h=0===s.length?this.stateSubject$.pipe(l.debounce?L():d=>d,(0,p.U)(o)):(0,E.a)(s).pipe(l.debounce?L():d=>d,(0,p.U)(d=>o(...d))),h.pipe((0,x.x)(),function T(i,a,t){var s,o;let l,h=!1;return i&&"object"==typeof i?(l=null!==(s=i.bufferSize)&&void 0!==s?s:1/0,a=null!==(o=i.windowTime)&&void 0!==o?o:1/0,h=!!i.refCount,t=i.scheduler):l=null!=i?i:1/0,(0,M.B)({connector:()=>new m.t(l,a,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}({refCount:!0,bufferSize:1}),(0,r.R)(this.destroy$))}effect(t){const s=new C.x;return t(s).pipe((0,r.R)(this.destroy$)).subscribe(),o=>(f(o)?o:(0,A.of)(o)).pipe((0,r.R)(this.destroy$)).subscribe(h=>{s.next(h)})}}return i.\u0275fac=function(t){return new(t||i)(z.LFG(H,8))},i.\u0275prov=z.Yz7({token:i,factory:i.\u0275fac}),i})();function Y(i,a,t){return s=>s.pipe((0,P.b)({next:i,error:a,complete:t}),(0,D.K)(()=>R.E))}}}]);